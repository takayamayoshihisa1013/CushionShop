{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/top.css' %}">
{% endblock %}
{% block title %}
    <title>SoftNest トップページ</title>
{% endblock %}
{% block content %}
    <section class="slider_section">
        <div class="slider">
            <div><img src="{% static 'images/slick/1.jpg' %}" alt="Slide 1"></div>
            <div><img src="{% static 'images/slick/2.jpg' %}" alt="Slide 2"></div>
            <div><img src="{% static 'images/slick/1.jpg' %}" alt="Slide 3"></div>
        </div> 
        <div class="catchphrase">
            <p>A relaxing step towards</p>
            <p>a comfortable everyday life</p>
        </div>       
    </section>
    <section class="product_section">
        <h1>New Product</h1>
        {% for product in new_product_data %}
            {% if forloop.counter0|divisibleby:"4" %}
                <div class="row">
            {% endif %}
                <div class="product">
                    <a href="/product/{{ product.id }}">
                        <div class="img">
                            <img src="{% static 'images/product_images/' %}{{ product.top_img }}" alt="">
                        </div>
                        <div class="description">
                            <div class="color">
                                {% for color in product.color_set.all %}
                                    <p style="background-color: {{ color.color }};"></p>
                                {% endfor %}
                            </div>
                            <h3>{{ product.name }}</h3>
                            <p>{{ product.price }}円</p>
                        </div>
                    </a>
                </div>
                
            {% if forloop.counter0|divisibleby:"3" and not forloop.first  %}
                </div>
            {% endif %}
            {% if forloop.last and not forloop.counter0|divisibleby:"3" %}
                </div>  <!-- Close the last row if not already closed -->
            {% endif %}
        {% endfor %}
        <button><a href="">Show more</a></button>
    </section>
    <section class="category">
        <h1>Category</h1>
        <div class="all">
            <a href="">
                <img src="{% static 'images/category/all.jpg' %}" alt="">
                <p>All Product</p>
            </a>
        </div>
        <div class="category2">
            <div class="">
                <a href="">
                    <img src="{% static 'images/category/muzi.webp' %}" alt="">
                    <p>Plain color</p>
                </a>
            </div>
            <div class="">
                <a href="">
                    <img src="{% static 'images/category/patterned.webp' %}" alt="">
                    <p>patterned</p>
                </a>
            </div>
            <div class="">
                <a href="">
                    <img src="{% static 'images/category/char2.webp' %}" alt="">
                    <p>character</p>
                </a>
            </div>
        </div>
    </section>
    {% block javascript %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script src="{% static 'js/slick.js' %}"></script>
    {% endblock %}
{% endblock %}